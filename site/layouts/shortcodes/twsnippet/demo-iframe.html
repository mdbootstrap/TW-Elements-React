{{ $id := .Get "id" }}
{{ $iframe := .Get "iframe" }}
{{ $title := .Get "title" }}
{{ $offset := .Get "offset" }}
{{ $minHeight := .Get "minHeight" }}
{{ $fullscreen := .Get "fullscreen" }}

<section class="my-5">
  <div
    class="rounded-lg border bg-white dark:border-neutral-600 dark:bg-neutral-800">
    <div class="p-4">
      <div
        class="mx-auto h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"
        role="status"
        data-te-react-loeader>
        <span
          class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]"
          >Loading...</span
        >
      </div>
      <iframe 
        data-te-react-iframe 
        data-te-react-offset="{{if eq $offset ""}}10{{ else }}{{ $offset }}{{ end }}" 
        {{ if ne $minHeight "" }}data-te-react-min-height="{{ $minHeight }}"{{ end }}
        class="transition-all motion-reduce:transition-none hidden" 
        width="100%" 
        src="{{ $.Site.Params.demoUrl }}{{ $iframe }}" 
        title="{{ $title }}"
        ></iframe>
    </div>
    <!-- Header -->
    <div class="relative hidden md:block mt-4 border-t p-4 text-center dark:border-neutral-600">
      <button
        class="inline-block rounded px-4 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-primary hover:bg-secondary-100 focus:bg-secondary-100 focus:outline-none focus:ring-0 active:text-primary-700 dark:text-primary-400 dark:hover:bg-white/10 dark:focus:bg-white/10"
        data-te-collapse-init
        data-te-ripple-init
        data-te-ripple-color="light"
        href="#"
        role="button"
        aria-expanded="false"
        data-te-target="#{{ .Get `id` }}"
        aria-controls="{{ .Get `id` }}"
        data-ripple-color="hsl(0, 0%, 67%)">
        <span class="mr-1 inline-block pb-1 align-middle md:mr-2"
          ><svg
            class="w-4"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 640 512">
            <path
              fill="currentColor"
              d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z" /></svg></span
        >Show code
      </button>

      {{ if eq $fullscreen "true" }}
      <a
        class="absolute right-2 inline-block rounded px-4 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-primary"
        href="{{ $.Site.Params.demoUrl }}{{ $iframe }}"
        target="_blank"
        data-te-toggle="tooltip"
        data-te-html="true"
        title="Show fullscreen example <br/> <small><strong>Shift + D</strong> to toggle darkmode<small>"
        >
        <span class="mr-1 inline-block pb-1 align-middle md:mr-2"
          ><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" />
          </svg>
          </span
        ></a>
      {{ end }}

      <!-- Commented until we deploy snippets -->
      <!-- <button class="text-primary-500 bg-transparent border border-solid border-primary-500 hover:bg-primary-500 hover:text-white active:bg-primary font-bold uppercase text-sm px-6 py-3 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150 active show " data-ripple-color="hsl(0, 0%, 67%)"><i class="fas fa-file-code me-md-2 pe-none"></i><span
                class="d-none d-md-inline-block export-to-snippet pointer-events-none"> Edit in sandbox</span></button> -->
    </div>
    <!-- Header -->
  </div>
</section>
